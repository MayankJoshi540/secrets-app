<%- include('partials/header') %>

<div class="min-h-screen flex flex-col items-center justify-center bg-gray-100 px-4">
  <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md text-center">
    <h1 class="text-2xl font-bold mb-4">Secrets</h1>
    <p class="mb-4 text-gray-700">Anonymously shared secrets by users:</p>

    <% if (secrets.length === 0) { %>
      <p class="text-gray-500">No secrets shared yet.</p>
    <% } else { %>
      <ul class="text-left space-y-2 mb-6">
        <% secrets.forEach(s => { %>
          <li class="bg-gray-100 p-2 rounded"><%= s.secret %></li>
        <% }) %>
      </ul>
    <% } %>

    <% if (ownSecret) { %>
      <form action="/submit" method="POST" class="mt-4">
        <input type="text" name="secret" value="<%= ownSecret %>" class="w-full px-4 py-2 border rounded mb-2" />
        <button type="submit" class="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600">Edit My Secret</button>
      </form>
    <% } else { %>
      <form action="/submit" method="POST" class="mt-4">
        <input type="text" name="secret" placeholder="What's your secret?" class="w-full px-4 py-2 border rounded mb-2" />
        <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Submit a Secret</button>
      </form>
    <% } %>

    <a href="/logout" class="text-sm text-red-600 mt-6 inline-block">Logout</a>
  </div>
</div>

<%- include('partials/footer') %>
